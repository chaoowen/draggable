(function(){"use strict";var t={2797:function(t,e,r){var n=r(7195),a=function(){var t=this,e=t._self._c;return e("div",{attrs:{id:"app"}},[e("OptionalProduct")],1)},o=[],s=function(){var t=this,e=t._self._c;return e("section",[e("div",{staticClass:"h-screen flex justify-center items-center"},[e("div",{staticClass:"md:w-3/4 md:h-2/3 flex flex-col md:flex-row border-2 border-dashed"},[e("div",{staticClass:"md:w-1/3 flex flex-col border-r-2 border-dashed"},[e("div",{staticClass:"flex p-4 border-b-2 border-dashed"},t._l(t.bagList.category,(function(r){return e("ColorButton",{key:r.name,staticClass:"mr-2",attrs:{text:r.text,isChecked:r.name===t.bagType},on:{handleClick:function(e){return t.handleBagtype(r.name)}}})})),1),e("div",{staticClass:"md:grow"},t._l(t.bagList[t.bagType]?.color,(function(r){return e("ProductCard",{key:`${t.bagType}-${r}`,staticClass:"m-2 lg:m-4",attrs:{type:t.bagType,color:r},on:{phoneSelectProduct:t.handleSelectProduct}})})),1)]),e("div",{staticClass:"grow flex flex-col",on:{drop:function(e){return t.handleDrop(e)},dragover:function(t){t.preventDefault()},dragenter:function(t){t.preventDefault()}}},[e("section",{staticClass:"w-full flex flex-col sm:flex-row items-center justify-between p-4"},[e("div",{staticClass:"text-gray-500"},[t._v("拖曳圖像至此區，完成客製化商品")]),e("div",{staticClass:"my-2 sm:my-0 px-3 py-2 bg-rose-900 text-white rounded cursor-pointer",on:{click:t.clearShowArea}},[e("p",[t._v("全部清除")])])]),e("section",{staticClass:"grow relative flex justify-center items-center my-6"},[e("div",{key:t.showAreaChanged,staticClass:"relative w-40 h-40"},[t.showArea.outer?e("div",{class:["absolute top-0 left-0"]},[e("i",{staticClass:"fa-solid fa-10x fa-suitcase",style:`color: ${t.showArea.outer};`})]):t._e(),t.showArea.inner?e("div",{class:["absolute",t.hasShowAreaOnlyOne?"top-0 left-0":"top-8 left-12"]},[e("i",{class:["fa-solid fa-bag-shopping",t.hasShowAreaOnlyOne?"fa-10x":"fa-4x"],style:`color: ${t.showArea.inner};`})]):t._e(),t.showArea.packet?e("div",{class:["absolute",t.hasShowAreaOnlyOne?"top-0 left-0":"top-28 left-16"]},[e("i",{class:["fa-solid fa-wallet",t.hasShowAreaOnlyOne?"fa-10x":"fa-2x"],style:`color: ${t.showArea.packet};`})]):t._e()])])])])])])},i=[],l=function(){var t=this,e=t._self._c;return e("span",{class:["py-2 px-3 bg-primary text-white rounded-full cursor-pointer",t.isChecked?"bg-primary":"bg-secondary"],on:{click:t.handleClick}},[e("span",[t._v(t._s(t.text))])])},c=[],u={props:{text:{type:String,default:""},isChecked:{type:Boolean,default:!1}},methods:{handleClick(){this.$emit("handleClick")}}},h=u,d=r(1001),f=(0,d.Z)(h,l,c,!1,null,null,null),p=f.exports,g=function(){var t=this,e=t._self._c;return e("div",{ref:"draggableItem",staticClass:"inline-flex w-14 h-14 items-center justify-center shadow-md cursor-pointer",attrs:{draggable:""},on:{dragstart:function(e){return t.handleDrag(e,t.color)},touchstart:t.handleTouchStart,touchmove:t.handleTouchMove,touchend:function(e){return t.handleTouchEnd(t.color)}}},[e("i",{class:["fa-solid fa-2xl",t.iconType],style:`color: ${t.color};`})])},b=[],y={props:{type:{type:String,default:""},color:{type:String,default:""}},data(){return{dragging:!1,initialX:0,initialY:0,currentX:0,currentY:0}},computed:{iconType(){return"outer"===this.type?"fa-suitcase":"inner"===this.type?"fa-bag-shopping":"fa-wallet"}},methods:{handleDrag(t,e){t.dataTransfer.dropEffect="move",t.dataTransfer.effectAllowed="move",t.dataTransfer.setData("color",e)},handleTouchStart(t){this.dragging=!0,this.initialX=t.touches[0].clientX,this.initialY=t.touches[0].clientY},handleTouchMove(t){this.dragging&&(t.preventDefault(),this.currentX=t.touches[0].clientX-this.initialX,this.currentY=t.touches[0].clientY-this.initialY,this.changePosition())},handleTouchEnd(t){this.dragging=!1,this.currentX=0,this.currentY=0,this.changePosition(),this.$emit("phoneSelectProduct",t)},changePosition(){const t=this.$refs.draggableItem;t.style.transform=`translate(${this.currentX}px, ${this.currentY}px)`}}},v=y,m=(0,d.Z)(v,g,b,!1,null,null,null),w=m.exports,x={components:{ColorButton:p,ProductCard:w},data(){return{drag:!1,bagType:"",bagList:{category:[{name:"outer",text:"背包"},{name:"inner",text:"小包"},{name:"packet",text:"口袋包"}],outer:{color:["#b3b3b3","#000","#658677","#ECD4A7"]},inner:{color:["#b3b3b3","#000","#658677","#ECD4A7"]},packet:{color:["#b3b3b3","#000","#D4971E","#667EB3"]}},showAreaChanged:1,showArea:{outer:"",inner:"",packet:""}}},mounted(){this.bagType=this.bagList.category[0]?.name??""},computed:{currentBagType(){return this.bagList[this.bagType]},hasShowAreaOnlyOne(){const t=Object.values(this.showArea).filter((t=>""!==t));return t.length<=1}},methods:{handleBagtype(t){this.bagType=t},handleDrop(t){const e=t.dataTransfer.getData("color");this.handleSelectProduct(e)},handleSelectProduct(t){this.showArea[this.bagType]=t,this.showAreaChanged++},clearShowArea(){const t=["outer","inner","packet"];t.map((t=>{this.showArea[t]=""}))}}},C=x,T=(0,d.Z)(C,s,i,!1,null,null,null),A=T.exports,O={name:"App",components:{OptionalProduct:A}},k=O,_=(0,d.Z)(k,a,o,!1,null,null,null),S=_.exports;r(5319);n.ZP.config.productionTip=!1,new n.ZP({render:t=>t(S)}).$mount("#app")}},e={};function r(n){var a=e[n];if(void 0!==a)return a.exports;var o=e[n]={exports:{}};return t[n].call(o.exports,o,o.exports,r),o.exports}r.m=t,function(){var t=[];r.O=function(e,n,a,o){if(!n){var s=1/0;for(u=0;u<t.length;u++){n=t[u][0],a=t[u][1],o=t[u][2];for(var i=!0,l=0;l<n.length;l++)(!1&o||s>=o)&&Object.keys(r.O).every((function(t){return r.O[t](n[l])}))?n.splice(l--,1):(i=!1,o<s&&(s=o));if(i){t.splice(u--,1);var c=a();void 0!==c&&(e=c)}}return e}o=o||0;for(var u=t.length;u>0&&t[u-1][2]>o;u--)t[u]=t[u-1];t[u]=[n,a,o]}}(),function(){r.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return r.d(e,{a:e}),e}}(),function(){r.d=function(t,e){for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})}}(),function(){r.g=function(){if("object"===typeof globalThis)return globalThis;try{return this||new Function("return this")()}catch(t){if("object"===typeof window)return window}}()}(),function(){r.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)}}(),function(){var t={143:0};r.O.j=function(e){return 0===t[e]};var e=function(e,n){var a,o,s=n[0],i=n[1],l=n[2],c=0;if(s.some((function(e){return 0!==t[e]}))){for(a in i)r.o(i,a)&&(r.m[a]=i[a]);if(l)var u=l(r)}for(e&&e(n);c<s.length;c++)o=s[c],r.o(t,o)&&t[o]&&t[o][0](),t[o]=0;return r.O(u)},n=self["webpackChunkdraggable"]=self["webpackChunkdraggable"]||[];n.forEach(e.bind(null,0)),n.push=e.bind(null,n.push.bind(n))}();var n=r.O(void 0,[998],(function(){return r(2797)}));n=r.O(n)})();
//# sourceMappingURL=app.27b4e4fb.js.map